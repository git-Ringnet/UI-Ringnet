{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template core/loginform

    Moodle template for the login page.

    Context variables required for this template:
    * autofocusform: Auto focus on form ?,
    * canloginasguest - Is guest login allowed?,
    * canloginbyemail - Is login by email allowed?,
    * cansignup - Signup allowed?,
    * cookieshelpicon - cookies help icon details
    * error - Any errors in the form?,
    * forgotpasswordurl - Forgot password url,
    * hasidentityproviders - Flag, set to true to hide identity providers,
    * hasinstructions - Flag, set to true to show instructions,
    * identityproviders - List of identiy providers,
    * instructions - Instructions,
    * instructionsformat - Format of instructions,
    * loginurl - Login url,
    * rememberusername - Remeber username?,
    * signupurl - Signup url,
    * cookieshelpiconformatted - Formatted html of cookies help icon,
    * errorformatted - Formatted error,
    * logourl - Flag, logo url,
    * sitename - Name of site.,
    * logintoken - Random token to protect login request.,
    * maintenance - Maintenance message

    Example context (json):
    {
        "autofocusform": false,
        "canloginasguest": "1",
        "canloginbyemail": false,
        "cansignup": true,
        "cookieshelpicon": {
            "heading": "Cookies must be enabled in your browser",
            "text": "<div class=\"no-overflow\">Two cookies are used on this site. Both died..</div>",
            "icon": {
                "attributes": [
                    {
                        "name": "class",
                        "value": "iconhelp"
                    },
                    {
                        "name": "alt",
                        "value": "Help with Cookies must be enabled in your browser"
                    },
                    {
                        "name": "title",
                        "value": "Help with Cookies must be enabled in your browser"
                    },
                    {
                        "name": "src",
                        "value": "http://localhost/stable_master/theme/image.php?theme=boost&component=core&image=help"
                    }
                ]
            },
            "linktext": null,
"title": "Help with Cookies must be enabled in your browser",
            "url": "http://localhost/stable_master/help.php?component=core&identifier=cookiesenabled&lang=en",
            "ltr": true
        },
        "error": "",
        "forgotpasswordurl": "http://localhost/stable_master/login/forgot_password.php",
        "hasidentityproviders": false,
        "hasinstructions": true,
        "identityproviders": [],
        "instructions": "For full access to this site, you first need to create an account.",
        "instructionsformat": "1",
        "loginurl": "http://localhost/stable_master/login/index.php",
        "rememberusername": true,
        "signupurl": "http://localhost/stable_master/login/signup.php",
        "cookieshelpiconformatted": "",
        "errorformatted": "",
        "logourl": false,
        "sitename": "Beer & Chips",
        "logintoken": "randomstring",
        "maintenance": "For full access to this site, you need to login in as an admin."
    }


}}

    {{{ output.render_lang_menu }}}

        <div class="rui-login-layout {{#loginlayoutimg}}rui-login-layout-img{{/loginlayoutimg}} {{^loginlayoutimg}}rui-login-layout-simple{{/loginlayoutimg}} {{#loginlayout1}}rui-login-layout--1{{/loginlayout1}}{{#loginlayout2}}rui-login-layout--2{{/loginlayout2}}{{#loginlayout3}}rui-login-layout--3{{/loginlayout3}}">
            
            {{#cansignup}}
            {{#customsignupoutside}}
            <div class="rui-login-createaccount--top">
                <form action="{{signupurl}}" method="get" id="signup">
                    {{#stringca}}<span class="rui-login-calabel">{{{stringca}}}</span>{{/stringca}} <button type="submit" class="btn-link--clean">{{#str}}startsignup{{/str}}</button>
                </form>
            </div>
            {{/customsignupoutside}}
            {{/cansignup}}

            <div class="rui-login-wrapper rui-login-wrapper--margin">
                <div class="rui-login-top-wrapper" style="justify-content: center;">

                    {{#loginlogooutside}}
                    <div class="rui-login-top">
                        {{#customloginlogo}}
                        <a href="{{{ config.wwwroot }}}"><h2><img src="{{customloginlogo}}" title="{{sitename}}" alt="{{sitename}}" class="rui-login-logo img-fluid" style="width: 190px;height: 41px;"/></h2></a>
                        {{/customloginlogo}}

                        {{^customloginlogo}}
                            {{#logourl}}
                            <a href="{{{ config.wwwroot }}}"><h2><img src="{{logourl}}" title="{{sitename}}" alt="{{sitename}}" class="rui-login-logo img-fluid"/></h2></a>
                            {{/logourl}}

                            {{^logourl}}
                            <a href="{{{ config.wwwroot }}}"><h2 class="rui-login-logo-name">{{sitename}}</h2></a>
                            {{/logourl}}
                        {{/customloginlogo}}
                    </div>
{{/loginlogooutside}}

                    {{#loginhtmlcontent1}}
                    <div class="rui-login-top--content rui-topbar">                           
                        {{{loginhtmlcontent1}}}
                    </div>
                    {{/loginhtmlcontent1}}
                    
                </div>
            </div>

            <div class="rui-login-wrapper row no-gutters align-items-center justify-content-center w-100">

                <div class="rui-login-container row no-gutters" style="width: auto!important;box-shadow: 0px 2px 15px #888888;">
                    <div class="rui-login-box" style="width: 476px;height: 588px;">
                        {{#cansignup}}
                            <div class="sr-only">
                                <a href="{{signupurl}}">{{#str}} tocreatenewaccount {{/str}}</a>
                            </div>
                        {{/cansignup}}

                        <div class="rui-loginpage-intro">
                            
                            {{^loginlogooutside}}
                            <div class="rui-loginpage-intro-logo">
                                {{#customloginlogo}}
                                <a href="{{{ config.wwwroot }}}"><h2><img src="{{customloginlogo}}" title="{{sitename}}" alt="{{sitename}}" class="rui-login-logo img-fluid"/></h2></a>
                                {{/customloginlogo}}

                                {{^customloginlogo}}
                                    {{#logourl}}
                                    <a href="{{{ config.wwwroot }}}"><h2><img src="{{logourl}}" title="{{sitename}}" alt="{{sitename}}" class="rui-login-logo img-fluid"/></h2></a>
                                    {{/logourl}}

                                    {{^logourl}}
                                    <a href="{{{ config.wwwroot }}}"><h2>{{sitename}}</h2></a>
                                    {{/logourl}}
                                {{/customloginlogo}}
                            </div>
                            {{/loginlogooutside}}

                            {{#loginintrotext}}
                            <div class="rui-loginpage-intro-content">
                                {{{loginintrotext}}}
                            </div>
                            {{/loginintrotext}}
                        </div>

                        {{#error}}
                            <div class="loginerrors mt-3">
                                <a href="#" id="loginerrormessage" class="accesshide">{{error}}</a>
                                <div class="alert alert-danger" role="alert" data-aria-autofocus="true">{{error}}</div>
                            </div>
                        {{/error}}

                        {{#hasidentityproviders}}
                            <div class="rui-potentialidplist mt-3 text-center">
                                <h5 class="mb-2">{{#str}} potentialidps, auth {{/str}}</h5>
<div class="row no-gutters mt-3">
                                {{#identityproviders}}
                                    <div class="rui-potentialidp w-100 mt-1">
                                        <a href="{{url}}" title={{#quote}}{{name}}{{/quote}} class="btn btn-outline-secondary mt-1 w-100">
                                            {{#iconurl}}
                                                <img src="{{iconurl}}" alt="" width="24" height="24"/>
                                            {{/iconurl}}
                                            <span class="rui-potentialidp--name ml-3">{{name}}</span>
                                        </a>
                                    </div>
                                {{/identityproviders}}
                                </div>
                                <hr class="hr-small" />
                            </div>
                        {{/hasidentityproviders}}

                        <div class="rui-login-form">
                            <form action="{{loginurl}}" method="post" id="login">
                                <input id="anchor" type="hidden" name="anchor" value="">
                                <script>document.getElementById('anchor').value = location.hash;</script>
                                <input type="hidden" name="logintoken" value="{{logintoken}}">
                                <div class="form-group my-0">
                                    <label for="username" class="ml-3">
                                        {{^canloginbyemail}}
                                            {{#str}} username {{/str}}
                                        {{/canloginbyemail}}
                                        {{#canloginbyemail}}
                                            {{#str}} usernameemail {{/str}}
                                        {{/canloginbyemail}}
                                    </label>                                
                                    <input type="text" name="username" id="username"
                                        class="form-control form-control"
                                        value="{{username}}"
                                        placeholder={{#quote}}{{^canloginbyemail}}{{#str}}username{{/str}}{{/canloginbyemail}}{{#canloginbyemail}}{{#str}}usernameemail{{/str}}{{/canloginbyemail}}{{/quote}}
                                        autocomplete="username">

                                    {{#rememberusername}}
                                        <div class="rui-rememberpass mt-1 text-right">
                                            <label class="custom-control ios-switch pr-0">
                                                <input class="ios-switch-control-input form-check-input" type="checkbox" name="rememberusername" id="rememberusername" value="1" {{#username}}checked="checked"{{/username}} />
<span class="ios-switch-control-indicator"></span>
                                                <label class="rui-rememberusername-text my-0" for="rememberusername">{{#str}} rememberusername, admin {{/str}}</label>
                                            </label>
                                        </div>
                                    {{/rememberusername}}

                                </div>
                                <div class="form-group my-2">
                                    <label for="password" class="ml-3">{{#str}} password {{/str}}</label>
                                    <input type="password" name="password" id="password" value=""
                                        class="form-control form-control"
                                        placeholder={{#quote}}{{#str}}password{{/str}}{{/quote}}
                                        autocomplete="current-password">
                                </div>
                                <div class="w-100 text-right d-flex justify-content-between align-items-center">
                                    <a class="rui-login-signup-btn" href="{{signupurl}}">{{#str}}startsignup{{/str}}</a>
                                    <a class="rui-login-forgot-btn" href="{{forgotpasswordurl}}">{{#str}}forgotten{{/str}}</a>
                                </div>
                                <button type="submit" class="text-white btn-block mt-4 rounded" id="loginbtn" style="height:40px;background-color: #0095F6;font-weight: 300;border: none;font-size: 14px;">{{#str}}login{{/str}}</button>
                            </form>
                        </div><!-- .rui-login-form -->

                        <div class="rui-login-additional-btns">
                            {{#canloginasguest}}
                            <div class="rui-canloginasguest mt-2" title="{{#str}}someallowguest{{/str}}">
                                <!--<hr />-->
                                <div class="hr-line my-5" style="position: relative;">
                                    <div class="text-center" style="position: absolute;
                                    right: 36%;
                                    padding: 0 35px;
                                    top: -11px;
                                    background: white;">
                                    {{#str}}or{{/str}}
                                    </div>
                                </div>
                                <p class="small text-center mb-3">{{#str}}someallowguest{{/str}}</p>
                                <!--<form action="{{loginurl}}" method="post" id="guestlogin">
                                    <input type="hidden" name="logintoken" value="{{logintoken}}">
                                    <input type="hidden" name="username" value="guest" />
                                    <input type="hidden" name="password" value="guest" />
<button class="btn btn-sm btn-info w-100" type="submit">{{#str}}loginguest{{/str}}</button>
                                </form>-->
                            </div>
                            {{/canloginasguest}}
                        </div><!-- .rui-additional-btns -->

                        <!--login with google-->
                        <button type="submit" class="btn-block mt-3 rounded" id="loginbtn" style="height:40px;background: transparent;font-weight: 300;border: 1px solid #C5C5C5;font-size: 14px;position: relative;">
                            <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg" style="position: absolute;left: 14px;">
                                <path d="M18.8485 10.0668C18.8597 9.39016 18.7948 8.71449 18.6553 8.05322H10.0369V11.7085H15.0949C15.0028 12.3424 14.7896 12.9513 14.4674 13.4998C14.1453 14.0484 13.7206 14.5257 13.2181 14.9042L13.2013 15.0277L15.9265 17.2945L16.1149 17.3142C17.0249 16.3607 17.7366 15.2263 18.2065 13.9802C18.6765 12.7342 18.8949 11.4026 18.8485 10.0668Z" fill="#4285F4"/>
                                <path d="M10.0368 19.6983C12.2891 19.7592 14.4736 18.9019 16.1148 17.313L13.218 14.9054C12.2886 15.5786 11.1729 15.9252 10.0368 15.8936C8.85705 15.8699 7.71526 15.4602 6.77693 14.7237C5.8386 13.9872 5.15247 12.9622 4.818 11.7974L4.71 11.8072L1.8768 14.1543L1.8396 14.2655C2.56873 15.875 3.7254 17.2393 5.17594 18.2007C6.62649 19.162 8.3117 19.6812 10.0368 19.6983V19.6983Z" fill="#34A853"/>
                                <path d="M4.81812 11.796C4.61735 11.1672 4.51408 10.5098 4.51212 9.84796C4.51565 9.1892 4.61474 8.53469 4.80612 7.90607V7.77513L1.93812 5.37866L1.84452 5.42684C1.20009 6.80627 0.865479 8.3173 0.865479 9.84796C0.865479 11.3786 1.20009 12.8896 1.84452 14.2691L4.81812 11.796Z" fill="#FBBC05"/>
                                <path d="M10.037 3.80881C10.6931 3.80058 11.3444 3.92588 11.9533 4.17751C12.5623 4.42915 13.1169 4.80215 13.5854 5.2751L16.1762 2.55746C15.367 1.73595 14.408 1.08715 13.3545 0.648325C12.3009 0.209502 11.1735 -0.0106908 10.037 0.00039898C8.31201 0.0165539 6.62665 0.53482 5.17569 1.49531C3.72474 2.4558 2.56739 3.81931 1.8374 5.42828L4.805 7.89887C5.1442 6.73477 5.83356 5.71152 6.77379 4.97651C7.71402 4.24149 8.85661 3.83263 10.037 3.80881Z" fill="#EB4335"/>
                            </svg>
                            {{#str}}signinwithgoogle{{/str}}
                        </button>

                        <!--<div class="rui-login-createaccount my-4">
                            <form action="{{signupurl}}" method="get" id="signup">
                                {{#stringca}}<span class="rui-login-calabel">{{{stringca}}}</span>{{/stringca}} <button type="submit" class="btn-link--clean">{{#str}}startsignup{{/str}}</button>
                            </form>
                        </div>-->

                        {{#instructions}}
<!-- <div class="rui-hasinstructions-desc alert alert-warning">
                                {{{instructions}}}
                            </div>-->
                            <!-- .rui-hasinstructions-desc -->
                        {{/instructions}}
                    </div><!-- .rui-login-box -->

                    {{#loginlayoutimg}}
                    <div class="rui-login-bg-container" style="background-image: url('{{loginbg}}');">
                        {{#loginhtmlcontent2}}
                            <div class="rui-login-additional-content">
                            {{{loginhtmlcontent2}}}
                            </div>
                        {{/loginhtmlcontent2}}
                    </div>
                    {{/loginlayoutimg}}
                </div>

                <div class="rui-login-wrapper">
              
            </div>
            
            </div>


            <button type="button" class="btn btn-xs btn-dark btn--cookie" {{!
        }} data-modal="alert"{{!
        }} data-modal-title-str='["cookiesenabled", "core"]' {{!
        }} data-modal-content-str='["cookiesenabled_help_html", "core"]'{{!
        }}>
            <svg width="20" height="20" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 13V15"></path>
                <circle cx="12" cy="9" r="1" fill="currentColor"></circle>
                <circle cx="12" cy="12" r="7.25" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"></circle>
            </svg>

            <span class="ml-1">{{#str}}cookiesnotice{{/str}}</span></button>

        </div><!-- .login layout -->

        {{#maintenance}}
        <div class="rui-maintenance">
            <h2>{{#str}}sitemaintenance, core_admin{{/str}}</h2>
            <div class="rui-maintenance-desc">
                {{{maintenance}}}
            </div>
        </div>
        {{/maintenance}}


        {{{logincustomfooterhtml}}}

{{#js}}
    {{^error}}
        {{#autofocusform}}
            var userNameField = document.getElementById('username');
            if (userNameField.value.length == 0) {
                userNameField.focus();
            } else {
                document.getElementById('password').focus();
            }
        {{/autofocusform}}
    {{/error}}
    {{#error}}
        document.getElementById('loginerrormessage').focus();
    {{/error}}
{{/js}}